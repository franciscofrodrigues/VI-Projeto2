
<!DOCTYPE html>
<html>
<meta charset="utf-8">
<link rel="stylesheet" href="http://yui.yahooapis.com/pure/0.5.0/pure-min.css">

<link rel="stylesheet" href="star_plot.css">

<head>

  <script type="text/javascript" src="//d3js.org/d3.v3.js"></script>
  <script type="text/javascript" src="../star_plot.js"></script>

  <script type="text/javascript">
    RadarChart.defaultConfig.color = function() {};
    RadarChart.defaultConfig.radius = 3;
  </script>

  <script type="text/javascript">
    // Função para carregar dados de um arquivo CSV
    function loadCSV(callback) {
      d3.csv("./data/DatasetResidentes2.csv", function(data) {
        // Formatar os dados conforme esperado pelo gráfico de radar
        var formattedData = data.map(function(d) {
          return {
            className: d.nome,
            axes: [
              {axis: "0 - 19", value: data[0]['0-19']},
              {axis: "20 - 39", value: data[0]['20-39']},
              {axis: "40 - 59", value: data[0]['40-59']},
              {axis: "60 - 79", value: data[0]['60-79']},
              {axis: "80+", value: data[0]['80+']}
            ]
          };
        });
        callback(formattedData);
        console.log(formattedData[0].className)
      });

    }

    // Função para desenhar o gráfico de radar com os dados carregados
    function drawRadarChart(data) {
      RadarChart.defaultConfig.levelTick = true;
      RadarChart.draw(".chart-container", data);

      
    }
    
    

    // Carregar dados e desenhar o gráfico de radar
    loadCSV(drawRadarChart);
  </script>
</head>

<body>
  <h1>Radar Chart</h1>
  <p>A reusable radar chart implementation in D3.js</p>

  <h2>Reusable D3 API</h2>

  <div class="chart-container"></div>

</body>
</html>
